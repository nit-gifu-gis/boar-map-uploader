<html>
    <head>
        <title>Uploader HTML sample</title>
        <meta charset="utf-8" />
    </head>
    <body>
        <form name="form1" onsubmit="return false;">
            いのししマップぎふのアクセストークン: <input type="text" name="token"> ユーザー名: <input type="text" name="user"> アクセス期限: <input type="text" name="exp">
            <button onClick="login()">ログイン</button>
        </form>

        <script type="text/javascript">
            function login() {
                var token = document.form1.token.value;
                var user = document.form1.user.value;
                var exp = document.form1.exp.value;
                var data = {
                    "token": token,
                    "user": user,
                    "expires_in": exp
                }
                console.log("ログインリクエストを送信しました。");
                fetch('http://localhost/GISImage/auth.php', {
                    method: 'POST',
                    body: JSON.stringify(data)
                }).then(response => response.text()
                .then(text => alert(text)));
            }
        </script>
    </body>
</html>